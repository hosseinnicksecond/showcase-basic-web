<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Wed Jan 22 16:45:19 EST 2020 -->
<title>Utils</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-01-22">
<link rel="stylesheet" type="text/css" href="../../../../javadoc_stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Utils";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.northcoder.titlewebdemo.util</a></div>
<h2 title="Class Utils" class="title">Class Utils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.northcoder.titlewebdemo.util.Utils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">Utils</span>
extends java.lang.Object</pre>
<div class="block">Miscellaneous utilities for handling HTML form data, related TitleDemo
 JavaBean objects, and textual data.

 <p>
 <b>IMPORTANT:</b> Form-related utilities assume that the name of the HTML
 form field is identical to the name of the related bean field.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Utils</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildExtraSearchTerms(java.lang.String)">buildExtraSearchTerms</a></span>&#8203;(java.lang.String&nbsp;input)</code></th>
<td class="colLast">
<div class="block">Finds words which contain marks and ligatures, and creates versions of
 those words without the marks and ligatures.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compareUsingCollator(java.lang.String,java.lang.String)">compareUsingCollator</a></span>&#8203;(java.lang.String&nbsp;string,
                    java.lang.String&nbsp;other)</code></th>
<td class="colLast">
<div class="block">A method which uses <code>Collator</code>'s string compare
 method.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;T extends <a href="../beans/DemoBean.html" title="class in org.northcoder.titlewebdemo.beans">DemoBean</a>&gt;<br>T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#formBodyToBean(java.lang.String,T)">formBodyToBean</a></span>&#8203;(java.lang.String&nbsp;formData,
              T&nbsp;bean)</code></th>
<td class="colLast">
<div class="block">Loads data from an HTML form into a TitleDemo bean.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mapMiscellaneous(java.lang.String)">mapMiscellaneous</a></span>&#8203;(java.lang.String&nbsp;input)</code></th>
<td class="colLast">
<div class="block">For example, "ø" is mapped to "o".</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeCombiningMarks(java.lang.String)">removeCombiningMarks</a></span>&#8203;(java.lang.String&nbsp;input)</code></th>
<td class="colLast">
<div class="block">Removes combining marks, such as diacritics, accents, etc.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static &lt;T extends <a href="../beans/DemoBean.html" title="class in org.northcoder.titlewebdemo.beans">DemoBean</a>&gt;<br>java.util.List&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sortList(java.util.List)">sortList</a></span>&#8203;(java.util.List&lt;T&gt;&nbsp;unsortedList)</code></th>
<td class="colLast">
<div class="block">Primarily used by the <a href="../dao/JdbiDAO.html" title="class in org.northcoder.titlewebdemo.dao"><code>JdbiDAO</code></a>
 methods, to sort result sets.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#splitLigatures(java.lang.String)">splitLigatures</a></span>&#8203;(java.lang.String&nbsp;input)</code></th>
<td class="colLast">
<div class="block">Splits selected glyphs into their constituent graphemes, for example, "œ"
 into "oe".</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Utils</h4>
<pre>public&nbsp;Utils()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="formBodyToBean(java.lang.String,org.northcoder.titlewebdemo.beans.DemoBean)">
<!--   -->
</a><a id="formBodyToBean(java.lang.String,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formBodyToBean</h4>
<pre class="methodSignature">public static&nbsp;&lt;T extends <a href="../beans/DemoBean.html" title="class in org.northcoder.titlewebdemo.beans">DemoBean</a>&gt;&nbsp;T&nbsp;formBodyToBean&#8203;(java.lang.String&nbsp;formData,
                                                    T&nbsp;bean)</pre>
<div class="block">Loads data from an HTML form into a TitleDemo bean.
 <p>
 <b>IMPORTANT:</b> Assumes there is no multipart data or field arrays -
 just a simple form submission. For example, if a form has a set radio
 buttons all bound to one name, then that data is not currently handled by
 this method. Similarly, attachments etc. are not currently handled.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Any TitleDemo object - the target into which the form data
 will be loaded</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>formData</code> - a string from an HTTP form submission in the format:
 "foo=bar&amp;baz=bat&amp;...". Each field name and data value are URL
 encoded, and concatenated with '&amp;' and '=' by the http POST action.
 Here, the string is provided by <a href="http://sparkjava.com/">the Spark
 framework</a>'s
 <a href="https://static.javadoc.io/com.sparkjava/spark-core/2.9.1/spark/Request.html#body--">
 spark.Request.body()</a> - using a wrapper around the HTTP servlet
 request object.</dd>
<dd><code>bean</code> - a TitleDemo bean prior to the form data being loaded</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../beans/DemoBean.html" title="class in org.northcoder.titlewebdemo.beans"><code>TitleDemo JavaBean</code></a> after the form data has
 been loaded</dd>
</dl>
</li>
</ul>
<a id="compareUsingCollator(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareUsingCollator</h4>
<pre class="methodSignature">public static&nbsp;int&nbsp;compareUsingCollator&#8203;(java.lang.String&nbsp;string,
                                       java.lang.String&nbsp;other)</pre>
<div class="block">A method which uses <code>Collator</code>'s string compare
 method. The collator is configured to consider base letters when
 performing a comparison, but to ignore accents, diacritics and
 upper/lower case differences. This is typically used when sorting
 collections of beans (which in turn are generated by SQL result sets), to
 ensure that words such as "eglise" and "église" are sorted alongside each
 other. Standard binary sorting would otherwise sort words such as
 "église" after words such as "zoo".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>string</code> - One of the strings used in the string comparison.</dd>
<dd><code>other</code> - The other string used in the string comparison.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The comparison result from the Collator's compare method.</dd>
</dl>
</li>
</ul>
<a id="sortList(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sortList</h4>
<pre class="methodSignature">public static&nbsp;&lt;T extends <a href="../beans/DemoBean.html" title="class in org.northcoder.titlewebdemo.beans">DemoBean</a>&gt;&nbsp;java.util.List&lt;T&gt;&nbsp;sortList&#8203;(java.util.List&lt;T&gt;&nbsp;unsortedList)</pre>
<div class="block">Primarily used by the <a href="../dao/JdbiDAO.html" title="class in org.northcoder.titlewebdemo.dao"><code>JdbiDAO</code></a>
 methods, to sort result sets. This is done, in case the SQL does not do
 the sort already.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of DemoBeans to be sorted</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>unsortedList</code> - the unsorted list of DemoBeans</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the sorted list</dd>
</dl>
</li>
</ul>
<a id="removeCombiningMarks(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCombiningMarks</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;removeCombiningMarks&#8203;(java.lang.String&nbsp;input)</pre>
<div class="block">Removes combining marks, such as diacritics, accents, etc. from a string.
 For example, "église" will become "eglise". This is done to support data
 searches on the client side (e.g. in DataTables). If a data value on a
 web page is "église", then a hidden, but searchable, field in the web
 page will also contain "eglise".

 <p>
 When a search is performed - for example, using the DataTables filter box
 - the client also similarly removes combining marks from the search term
 (using JavaScript). This way, it no longer matters whether a search term
 is entered as "église" or "eglise". Either term will find a result
 containing either of the following: "église", "eglise". For DataTables,
 searches are case insensitive, so the words "Église" and "Eglise" can
 also be used as search terms interchangeably.</p>

 <p>
 Technically: the NFD normalizer does the decomposition, by separating a
 single accented character into the base letter and the separate accent
 mark. So, for "é", this is the Unicode character:</p>

 <p>
 Ll - LATIN SMALL LETTER E WITH ACUTE</p>

 <p>
 After NFD decomposition, this becomes the following two separate Unicode
 characters:</p>

 Ll - LATIN SMALL LETTER E<br>Mn - COMBINING ACUTE ACCENT

 <p>
 Then, the regular expression p{M} is used to find characters which belong
 to any of the Unicode "M" (mark) categories:</p>

 Character.COMBINING_SPACING_MARK "Mc"<br>Character.ENCLOSING_MARK
 "Me"<br>
 Character.NON_SPACING_MARK, "Mn"

 <p>
 Any such characters are removed from the string.</p>

 <p>
 Graphemes which do not contain any marks are left unchanged.</p>

 <p>
 NOTE that some graphemes, such as "æ" and "ø" are not decomposed: "æ"
 does not become "ae"; "ø" does not have the same base letter as "o". The
 German character "ß" does not become "ss", and so on... These would need
 to be handled as special cases, if required. See also
 <a href="#splitLigatures(java.lang.String)"><code>splitLigatures(java.util.String)</code></a>.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the string prior to removal of any combining marks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the string with combining marks removed</dd>
</dl>
</li>
</ul>
<a id="splitLigatures(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitLigatures</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;splitLigatures&#8203;(java.lang.String&nbsp;input)</pre>
<div class="block">Splits selected glyphs into their constituent graphemes, for example, "œ"
 into "oe". This is done to support searching and filtering, for example
 to allow a user to search for "coeur" or "cœur" without worrying whether
 the searched text contains one or the other value (or both).

 In the context of searching, case is not relevant - searches are
 case-insensitive, which is why all the targets are lowercase.

 <p>
 From Wikipedia: "...a ligature occurs where two or more graphemes or
 letters are joined as a single glyph. An example is the character æ as
 used in English, in which the letters a and e are joined."</p>

 <p>
 See also <a href="#removeCombiningMarks(java.lang.String)"><code>removeCombiningMarks(java.lang.String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the unsplit string</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the string after splitting</dd>
</dl>
</li>
</ul>
<a id="mapMiscellaneous(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapMiscellaneous</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;mapMiscellaneous&#8203;(java.lang.String&nbsp;input)</pre>
<div class="block">For example, "ø" is mapped to "o". Mappings included here may not be
 valid linguistic mappings (ø is a different base letter from o). But the
 mapping can help searching and filtering on the web application.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - the text before mapping</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the text after mapping</dd>
</dl>
</li>
</ul>
<a id="buildExtraSearchTerms(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>buildExtraSearchTerms</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;buildExtraSearchTerms&#8203;(java.lang.String&nbsp;input)</pre>
<div class="block">Finds words which contain marks and ligatures, and creates versions of
 those words without the marks and ligatures. This is useful to support
 searching and filtering in datatables. Only those words which are changed
 by this method are included in the return string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - words to be cleansed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>words after being cleansed</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
